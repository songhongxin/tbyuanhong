<?xml version="1.0" ?>
<SpoutConfig>
	<LogGenerator class="com.etao.lz.star.spout.TTLogGenerator" name="tt_business_spout">
		<Configuration>
			<Attribute name="topic" value="dbsync_queue_one" />
			<Attribute name="subscriber" value="xixing_dbsync" />
			<Attribute name="router" value="ttrouter2.cm3.tbsite.net:9090,ttrouter3.cm3.tbsite.net:9090, ttrouter1.cm4.tbsite.net:9090,ttrouter2.cm4.tbsite.net:9090,ttrouter1.cm6.tbsite.net:9090,ttrouter2.cm6.tbsite.net:9090" />
			<Attribute name="username" value="yitao" />
			<Attribute name="password" value="xhdxi1" />
			<Attribute name="poolsize" value="5" />
			<Attribute name="log_builder" value="com.etao.lz.star.spout.MySQLLogBuilder"/>
			<Attribute name="log_class" value="business" />
			<Attribute name="seperators" value="2,1" />
			<Attribute name="spout_number" value="4" />
			<Attribute name="emit_check_period" value = "300000"/>
		</Configuration>

		<LogMapping name="tc_biz_order">
			<Mapping name="log_version" value="@int 1"/>
			<Mapping name="log_src" value = "tc_biz_order"/>
			<Mapping name="dest_type" value = "biz_order"/>
			<Mapping name="order_id" value ="@field2 6 1"/>
			<Mapping name="parent_id" value ="@field2 6 37"/>
			<Mapping name="seller_id" value ="@field2 6 6"/>
			<Mapping name="buyer_id" value ="@field2 6 5"/>
			<Mapping name="auction_id" value ="@field2 6 7"/>
			<Mapping name="auction_price" value="@bigint @field2 6 10"/>
			<Mapping name="adjust_fee" value="@bigint @field2 6 38"/>
			<Mapping name="discount_fee" value="@bigint @field2 6 39"/>
			<Mapping name="buy_amount" value="@bigint @field2 6 11"/>
			<Mapping name="gmt_create" value="@field2 6 15"/>
			<Mapping name="gmt_modified" value="@field2 6 16"/>
			<Mapping name="pay_time" value="@field2 6 32"/>
			<Mapping name="is_detail" value="@int @field2 6 34"/>
			<Mapping name="is_main" value="@int @field2 6 35"/>
			<Mapping name="shop_id" value="@field2 6 44"/>
			<Mapping name="pay_status" value="@int @field2 6 13"/>
			<Mapping name="biz_type" value="@int @field2 6 12"/>
		</LogMapping>

		<LogMapping name="tc_pay_order">
			<Mapping name="log_version" value="@int 1"/>
			<Mapping name="log_src" value="tc_pay_order"/>
			<Mapping name="dest_type" value="pay_order"/>
			<Mapping name="order_id" value="@field2 6 1"/>
			<Mapping name="seller_id" value="@field2 6 4"/>
			<Mapping name="buyer_id" value="@field2 6 5"/>
			<Mapping name="gmt_create" value="@field2 6 10"/>
			<Mapping name="gmt_modified" value="@field2 6 11"/>
			<Mapping name="pay_time" value="@field2 6 9"/>
			<Mapping name="actual_total_fee" value="@bigint @field2 6 13"/>
			<Mapping name="pay_status" value="@int @field2 6 6"/>
			<Mapping name="total_fee" value="@bigint @field2 6 2"/>
		</LogMapping>

		<LogMapping name="order">
			<Mapping name="log_version" value="@int 2"/>
			<Mapping name="log_src" value = "order_0000"/>
			<Mapping name="dest_type" value = "alipay_rtn_order"/>
			<Mapping name="seller_id" value ="@field2 6 33"/>
			<Mapping name="buyer_id" value="@field2 6 35"/>
			<Mapping name="auction_price" value = "@price_cent @field2 6 38"/>
			<Mapping name="actual_total_fee" value ="@price_cent @field2 6 14"/>
			<Mapping name="gmt_create" value="@field2 6 8"/>
			<Mapping name="gmt_modified" value="@field2 6 9"/>
			<Mapping name="trade_no" value="@field2 6 2"/>
			<Mapping name="trade_status" value="@field2 6 7"/>
			<Mapping name="trade_track_info" value="@field2 6 47"/>
		</LogMapping>

	</LogGenerator>
	
	<LogGenerator class="com.etao.lz.star.spout.TTLogGenerator" name="member_cart_spout">
		<Configuration>
			<Attribute name="topic" value="LHW_P1_1HOUR_020" />
			<Attribute name="subscriber" value="03071518020ASTDVZQ" />
			<Attribute name="router" value="ttrouter2.cm3.tbsite.net:9090,ttrouter3.cm3.tbsite.net:9090,ttrouter1.cm4.tbsite.net:9090,ttrouter2.cm4.tbsite.net:9090,ttrouter1.cm6.tbsite.net:9090,ttrouter2.cm6.tbsite.net:9090" />
			<Attribute name="username" value="xxdf" />
			<Attribute name="password" value="xxdf" />
			<Attribute name="poolsize" value="5" />
			<Attribute name="log_builder" value="com.etao.lz.star.spout.MySQLLogBuilder"/>
			<Attribute name="log_class" value="business" />
			<Attribute name="seperators" value="2,1" />
			<Attribute name="spout_number" value="2" />
			<Attribute name="emit_check_period" value = "300000"/>
		</Configuration>

		<LogMapping name="member_cart">
			<Mapping name="log_version" value="@int 3"/>
			<Mapping name="log_src" value = "member_cart"/>
			<Mapping name="dest_type" value = "cart"/>
			<Mapping name="cart_id" value ="@bigint @field2 6 1"/>
			<Mapping name="sku_id" value="@bigint @field2 6 2"/>
			<Mapping name="item_id" value = "@bigint @field2 6 3"/>
			<Mapping name="quantity" value ="@bigint @field2 6 4"/>
			<Mapping name="user_id" value="@bigint @field2 6 5"/>
			<Mapping name="status" value="@int @field2 6 6"/>
			<Mapping name="type" value="@int @field2 6 7"/>
			<Mapping name="sub_type" value="@bigint @field2 6 8"/>
			<Mapping name="gmt_create" value="@field2 6 9"/>
			<Mapping name="gmt_modified" value="@field2 6 10"/>
			<Mapping name="sync_version" value="@int @field2 6 13"/>
		</LogMapping>
	</LogGenerator>

	<LogGenerator class="com.etao.lz.star.spout.TTLogGenerator" name="collect_info_spout">
		<Configuration>
			<Attribute name="topic" value="LHW_P1_1HOUR_024" />
			<Attribute name="subscriber" value="0308151819ARPR7H43" />
			<Attribute name="router" value="ttrouter2.cm3.tbsite.net:9090,ttrouter3.cm3.tbsite.net:9090,ttrouter1.cm4.tbsite.net:9090,ttrouter2.cm4.tbsite.net:9090,ttrouter1.cm6.tbsite.net:9090,ttrouter2.cm6.tbsite.net:9090" />
			<Attribute name="username" value="xxdf" />
			<Attribute name="password" value="xxdf" />
			<Attribute name="poolsize" value="5" />
			<Attribute name="log_builder" value="com.etao.lz.star.spout.OceanbaseLogBuilder"/>
			<Attribute name="log_class" value="business" />
			<Attribute name="seperators" value="2,1" />
			<Attribute name="spout_number" value="2" />
			<Attribute name="emit_check_period" value = "600000"/>
		</Configuration>

		<LogMapping name="collect_info">
			<Mapping name="log_version" value="@int 4"/>
			<Mapping name="log_src" value = "collect_info"/>
			<Mapping name="dest_type" value = "collect_info"/>
			<Mapping name="user_id" value="@bigint @field2 5 2"/>
			<Mapping name="type" value="@int @field2 5 12"/>
			<Mapping name="item_id" value = "@bigint @field2 5 32"/>
			<Mapping name="item_invalid" value = "@field2 5 31"/>
			<Mapping name="item_category" value = "@bigint @field2 5 18"/>
			<Mapping name="item_owner_id" value = "@bigint @field2 5 21"/>
			<Mapping name="delete_time" value = "@field2 5 38"/>
			<Mapping name="sku_id" value = "@bigint @field2 5 15"/>
			<Mapping name="item_title" value = "@field2 5 19"/>
			<Mapping name="gmt_create" value="@field2 5 4"/>
			<Mapping name="gmt_modified" value="@field2 5 8"/>
		</LogMapping>
	</LogGenerator>
</SpoutConfig>
